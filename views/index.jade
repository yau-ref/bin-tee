extends layout

block content
  div#quotes
    div(ng-repeat="quote in quotes | orderBy: 'id'" id="q{{quote.id}}").quote
      p.text {{quote.text}}
      div.controls
      a(href="#" ng-click="voteUp(quote.id); return false;").voteUp +
      span(id="r{{quote.id}}").rating {{quote.rating}}
      a(href="#" ng-click="voteDown(quote.id); return false;").voteDown +
      a(href="#" ng-click="openComments(quote.id)").quote-comments-button.fa.fa-comments-o
      p.info
        span.quote_date {{quote.date}}
        a(href="/q{{quote.id}}").quote_id \#{{quote.id}}
      div(id="quote-comments-{{quote.id}}").comments.hidden
        div(ng-repeat="comment in commentCache[quote.id]" id="c{{comment.id}}").comment
          p.comment-text {{comment.text}}
          p.comment-info
            span.comment-date {{comment.date}}
        form
          textarea(id="comment-add-text-{{quoteId}}" placeholder="Your comment text")
          input(type="submit" ng-click="sendComment(quoteId); return false;" value="ï‡˜").button.fa.fa-send
